<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boeing 737 Cockpit Flight Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            color: white;
            overflow: hidden;
            height: 100vh;
        }

        .view-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }

        .view-button {
            padding: 10px 15px;
            background: linear-gradient(145deg, #444, #333);
            border: 2px solid #555;
            border-radius: 6px;
            color: white;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
        }

        .view-button:hover {
            background: linear-gradient(145deg, #555, #444);
        }

        .view-button.active {
            background: linear-gradient(145deg, #00aa00, #008800);
            box-shadow: 0 0 10px rgba(0,170,0,0.3);
        }

        /* Flight View Styles */
        .flight-view {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(to bottom, #87CEEB 0%, #98D8E8 30%, #90EE90 60%, #228B22 100%);
            display: none;
            overflow: hidden;
        }

        .flight-view.active {
            display: block;
        }

        .flight-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .runway {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%) perspective(800px) rotateX(60deg);
            width: 200px;
            height: 800px;
            background: linear-gradient(to bottom, 
                #333 0%, #333 2%, 
                transparent 2%, transparent 8%,
                #333 8%, #333 10%,
                transparent 10%, transparent 16%,
                #333 16%, #333 18%,
                transparent 18%);
            background-size: 100% 50px;
            border-left: 10px solid #fff;
            border-right: 10px solid #fff;
            opacity: 0.9;
        }

        .runway::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background: repeating-linear-gradient(to bottom, 
                #ffff00 0px, #ffff00 20px, 
                transparent 20px, transparent 40px);
        }

        .aircraft {
            position: absolute;
            width: 60px;
            height: 80px;
            left: 50%;
            top: 70%;
            transform: translateX(-50%);
            transition: all 0.1s ease;
            z-index: 10;
        }

        .aircraft-body {
            position: absolute;
            width: 8px;
            height: 60px;
            background: linear-gradient(to bottom, #ffffff 0%, #e0e0e0 100%);
            left: 50%;
            transform: translateX(-50%);
            border-radius: 4px 4px 0 0;
        }

        .aircraft-wings {
            position: absolute;
            width: 60px;
            height: 6px;
            background: linear-gradient(to right, #d0d0d0, #ffffff, #d0d0d0);
            top: 40px;
            left: 0;
            border-radius: 3px;
        }

        .aircraft-wings::before {
            content: '';
            position: absolute;
            width: 40px;
            height: 4px;
            background: linear-gradient(to right, #d0d0d0, #ffffff, #d0d0d0);
            top: 15px;
            left: 10px;
            border-radius: 2px;
        }

        .aircraft-tail {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 20px solid #e0e0e0;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .clouds {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50px;
            opacity: 0.7;
            animation: float 20s linear infinite;
        }

        @keyframes float {
            from { transform: translateY(100vh); }
            to { transform: translateY(-100px); }
        }

        .flight-hud {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #333;
            font-family: monospace;
            font-size: 14px;
            min-width: 200px;
        }

        .hud-line {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
        }

        .hud-label {
            color: #00ff00;
        }

        .hud-value {
            color: #ffffff;
            font-weight: bold;
        }

        .joystick-container {
            position: absolute;
            bottom: 30px;
            right: 30px;
            width: 120px;
            height: 120px;
            background: radial-gradient(circle, #333 0%, #222 100%);
            border: 4px solid #555;
            border-radius: 50%;
            box-shadow: inset 0 4px 10px rgba(0,0,0,0.5);
        }

        .joystick {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, #666 0%, #444 100%);
            border: 2px solid #888;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
            transition: all 0.1s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }

        .joystick::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background: #fff;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Cockpit View Styles */
        .cockpit-view {
            display: block;
        }

        .cockpit-view.hidden {
            display: none;
        }

        .cockpit-container {
            display: grid;
            grid-template-areas: 
                "overhead overhead overhead"
                "left-panel main-panel right-panel"
                "pedestal pedestal pedestal";
            grid-template-rows: 150px 1fr 120px;
            grid-template-columns: 300px 1fr 300px;
            height: 100vh;
            gap: 8px;
            padding: 8px;
        }

        /* Overhead Panel */
        .overhead-panel {
            grid-area: overhead;
            background: linear-gradient(145deg, #2a2a3e, #1f1f32);
            border: 3px solid #444;
            border-radius: 12px;
            padding: 10px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.3);
        }

        .overhead-section {
            text-align: center;
            padding: 0 15px;
        }

        .overhead-section h4 {
            color: #00ff00;
            font-size: 10px;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        /* Left Panel - Captain's Side */
        .left-panel {
            grid-area: left-panel;
            background: linear-gradient(145deg, #2a2a3e, #1f1f32);
            border: 3px solid #444;
            border-radius: 12px;
            padding: 15px;
            overflow-y: auto;
        }

        /* Main Panel - Instruments */
        .main-panel {
            grid-area: main-panel;
            display: grid;
            grid-template-areas: 
                "pfd-capt nav-display pfd-fo"
                "engine-display engine-display engine-display";
            grid-template-rows: 2fr 1fr;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
        }

        /* Right Panel - First Officer's Side */
        .right-panel {
            grid-area: right-panel;
            background: linear-gradient(145deg, #2a2a3e, #1f1f32);
            border: 3px solid #444;
            border-radius: 12px;
            padding: 15px;
            overflow-y: auto;
        }

        /* Pedestal */
        .pedestal {
            grid-area: pedestal;
            background: linear-gradient(145deg, #2a2a3e, #1f1f32);
            border: 3px solid #444;
            border-radius: 12px;
            padding: 15px;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        /* Display Screens */
        .display-screen {
            background: linear-gradient(145deg, #000, #111);
            border: 4px solid #333;
            border-radius: 8px;
            position: relative;
            box-shadow: inset 0 3px 10px rgba(0,0,0,0.5);
        }

        .pfd {
            grid-area: pfd-capt;
        }

        .pfd-fo {
            grid-area: pfd-fo;
        }

        .nav-display {
            grid-area: nav-display;
            background: linear-gradient(145deg, #000, #0a1a0a);
        }

        .engine-display {
            grid-area: engine-display;
            padding: 15px;
        }

        /* Artificial Horizon */
        .attitude-indicator {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(to bottom, #4a90e2 0%, #4a90e2 50%, #8b4513 50%, #8b4513 100%);
            position: relative;
            margin: 20px auto;
            border: 3px solid #333;
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }

        .attitude-indicator::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 20%;
            right: 20%;
            height: 2px;
            background: #fff;
            transform: translateY(-50%);
            z-index: 2;
        }

        .attitude-indicator::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: #ff0000;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 3;
        }

        /* Switch Styles */
        .switch-panel {
            background: linear-gradient(145deg, #3a3a4e, #2f2f42);
            border: 2px solid #555;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            box-shadow: inset 0 1px 4px rgba(0,0,0,0.4);
        }

        .switch-row {
            display: flex;
            align-items: center;
            margin: 8px 0;
            justify-content: space-between;
        }

        .switch-label {
            font-size: 10px;
            color: #ccc;
            font-weight: bold;
            text-transform: uppercase;
            min-width: 80px;
        }

        .toggle-switch {
            width: 40px;
            height: 16px;
            background: linear-gradient(145deg, #666, #444);
            border: 2px solid #333;
            border-radius: 8px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s;
        }

        .toggle-switch.on {
            background: linear-gradient(145deg, #00aa00, #008800);
            box-shadow: 0 0 6px rgba(0,170,0,0.3);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 1px;
            left: 1px;
            width: 12px;
            height: 12px;
            background: linear-gradient(145deg, #fff, #ddd);
            border-radius: 50%;
            transition: transform 0.2s;
        }

        .toggle-switch.on::after {
            transform: translateX(22px);
        }

        /* Push Buttons */
        .push-button {
            padding: 8px 12px;
            background: linear-gradient(145deg, #444, #333);
            border: 2px solid #555;
            border-radius: 6px;
            color: white;
            font-size: 10px;
            font-weight: bold;
            cursor: pointer;
            margin: 4px;
            transition: all 0.1s;
            text-transform: uppercase;
        }

        .push-button:hover {
            background: linear-gradient(145deg, #555, #444);
            transform: translateY(-1px);
        }

        .push-button:active {
            transform: translateY(1px);
        }

        .push-button.active {
            background: linear-gradient(145deg, #00aa00, #008800);
            box-shadow: 0 0 6px rgba(0,170,0,0.3);
        }

        /* Engine Gauges */
        .engine-gauges {
            display: flex;
            justify-content: space-around;
            padding: 20px;
        }

        .engine-gauge {
            text-align: center;
            min-width: 150px;
        }

        .gauge {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle, #000 0%, #1a1a1a 100%);
            border: 3px solid #333;
            position: relative;
            margin: 10px auto;
            box-shadow: inset 0 3px 8px rgba(0,0,0,0.5);
        }

        .gauge-needle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 2px;
            height: 35px;
            background: linear-gradient(to top, #ff0000, #ff6666);
            transform-origin: bottom center;
            transform: translate(-50%, -100%) rotate(-90deg);
            transition: transform 0.3s ease;
        }

        .gauge-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: #888;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .gauge-value {
            color: #00ff00;
            font-size: 16px;
            font-weight: bold;
            margin-top: 5px;
        }

        /* Navigation Display */
        .nav-map {
            position: relative;
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
        }

        .nav-grid {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(rgba(0,255,0,0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,255,0,0.2) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .aircraft-symbol {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            background: #fff;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            transform: translate(-50%, -50%);
        }

        /* Status Indicators */
        .status-light {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #333;
            border: 1px solid #222;
            margin: 0 4px;
            display: inline-block;
        }

        .status-light.green { background: #00ff00; box-shadow: 0 0 6px rgba(0,255,0,0.6); }
        .status-light.red { background: #ff0000; box-shadow: 0 0 6px rgba(255,0,0,0.6); }
        .status-light.amber { background: #ff9900; box-shadow: 0 0 6px rgba(255,153,0,0.6); }

        /* PFD Display Elements */
        .pfd-content {
            padding: 15px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
        }

        .speed-tape {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            height: 150px;
            width: 40px;
            background: rgba(0,0,0,0.8);
            border: 1px solid #333;
            color: #fff;
            font-size: 12px;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            border-radius: 4px;
        }

        .altitude-tape {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            height: 150px;
            width: 50px;
            background: rgba(0,0,0,0.8);
            border: 1px solid #333;
            color: #fff;
            font-size: 12px;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            border-radius: 4px;
        }

        .heading-indicator {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 30px;
            background: rgba(0,0,0,0.8);
            border: 1px solid #333;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 14px;
            font-weight: bold;
        }

        /* Throttle Levers */
        .throttle-lever {
            height: 60px;
            width: 20px;
            background: linear-gradient(to top, #333, #666);
            margin: 0 auto;
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            border: 2px solid #555;
        }

        .throttle-indicator {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: #00aa00;
            border-radius: 0 0 8px 8px;
            transition: height 0.3s;
            box-shadow: 0 0 10px rgba(0,170,0,0.3);
        }

        h3, h4 {
            color: #00ff00;
            margin-bottom: 10px;
            text-transform: uppercase;
            font-size: 12px;
        }

        .section-title {
            color: #00ff00;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 8px;
            text-align: center;
        }

        .controls-help {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 6px;
            font-size: 12px;
            border: 1px solid #333;
        }

        .controls-help h4 {
            color: #00ff00;
            margin-bottom: 5px;
            font-size: 12px;
        }

        .controls-help div {
            margin: 2px 0;
            color: #ccc;
        }

        .flap-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .gear-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .gear-light {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #333;
            border: 2px solid #555;
            transition: all 0.3s;
        }

        .gear-light.down {
            background: #00ff00;
            box-shadow: 0 0 10px rgba(0,255,0,0.5);
        }
    </style>
</head>
<body>
    <!-- View Toggle Buttons -->
    <div class="view-toggle">
        <button class="view-button active" id="cockpit-btn" onclick="switchView('cockpit')">Cockpit</button>
        <button class="view-button" id="flight-btn" onclick="switchView('flight')">Flight View</button>
    </div>

    <!-- Flight View -->
    <div class="flight-view" id="flight-view">
        <div class="flight-container">
            <!-- Sky and Clouds -->
            <div class="clouds" id="clouds"></div>
            
            <!-- Runway -->
            <div class="runway"></div>
            
            <!-- Aircraft Sprite -->
            <div class="aircraft" id="aircraft">
                <div class="aircraft-body"></div>
                <div class="aircraft-wings"></div>
                <div class="aircraft-tail"></div>
            </div>
            
            <!-- Flight HUD -->
            <div class="flight-hud">
                <div class="hud-line">
                    <span class="hud-label">AIRSPEED:</span>
                    <span class="hud-value" id="hud-airspeed">160 KTS</span>
                </div>
                <div class="hud-line">
                    <span class="hud-label">ALTITUDE:</span>
                    <span class="hud-value" id="hud-altitude">10000 FT</span>
                </div>
                <div class="hud-line">
                    <span class="hud-label">HEADING:</span>
                    <span class="hud-value" id="hud-heading">090°</span>
                </div>
                <div class="hud-line">
                    <span class="hud-label">V/S:</span>
                    <span class="hud-value" id="hud-vs">0 FPM</span>
                </div>
                <div class="hud-line">
                    <span class="hud-label">THROTTLE:</span>
                    <span class="hud-value" id="hud-throttle">30%</span>
                </div>
            </div>
            
            <!-- Virtual Joystick -->
            <div class="joystick-container">
                <div class="joystick" id="joystick"></div>
            </div>
            
            <!-- Controls Help -->
            <div class="controls-help">
                <h4>Flight Controls:</h4>
                <div>W/S - Pitch Up/Down</div>
                <div>A/D - Bank Left/Right</div>
                <div>Q/E - Rudder Left/Right</div>
                <div>R/F - Throttle Up/Down</div>
                <div>Mouse - Joystick Control</div>
            </div>
        </div>
    </div>

    <!-- Cockpit View -->
    <div class="cockpit-view" id="cockpit-view">
        <div class="cockpit-container">
            <!-- Overhead Panel -->
            <div class="overhead-panel">
                <div class="overhead-section">
                    <h4>Electrical</h4>
                    <div class="switch-row">
                        <span class="switch-label">Battery</span>
                        <div class="toggle-switch" id="battery" onclick="toggleSwitch('battery')"></div>
                    </div>
                    <div class="switch-row">
                        <span class="switch-label">APU</span>
                        <div class="toggle-switch" id="apu" onclick="toggleSwitch('apu')"></div>
                    </div>
                </div>
                
                <div class="overhead-section">
                    <h4>Fuel</h4>
                    <div class="switch-row">
                        <span class="switch-label">L Pump</span>
                        <div class="toggle-switch" id="fuel-l" onclick="toggleSwitch('fuel-l')"></div>
                    </div>
                    <div class="switch-row">
                        <span class="switch-label">R Pump</span>
                        <div class="toggle-switch" id="fuel-r" onclick="toggleSwitch('fuel-r')"></div>
                    </div>
                </div>
                
                <div class="overhead-section">
                    <h4>Lighting</h4>
                    <div class="switch-row">
                        <span class="switch-label">Beacon</span>
                        <div class="toggle-switch" id="beacon" onclick="toggleSwitch('beacon')"></div>
                    </div>
                    <div class="switch-row">
                        <span class="switch-label">Strobe</span>
                        <div class="toggle-switch" id="strobe" onclick="toggleSwitch('strobe')"></div>
                    </div>
                </div>
                
                <div class="overhead-section">
                    <h4>Air Cond</h4>
                    <div class="switch-row">
                        <span class="switch-label">Pack L</span>
                        <div class="toggle-switch" id="pack-l" onclick="toggleSwitch('pack-l')"></div>
                    </div>
                    <div class="switch-row">
                        <span class="switch-label">Pack R</span>
                        <div class="toggle-switch" id="pack-r" onclick="toggleSwitch('pack-r')"></div>
                    </div>
                </div>
            </div>

            <!-- Left Panel -->
            <div class="left-panel">
                <h3>Captain Side</h3>
                
                <div class="switch-panel">
                    <div class="section-title">Engine Start</div>
                    <div class="switch-row">
                        <span class="switch-label">Engine 1</span>
                        <button class="push-button" id="engine1-start" onclick="startEngine(1)">Start</button>
                    </div>
                    <div class="switch-row">
                        <span class="switch-label">Engine 2</span>
                        <button class="push-button" id="engine2-start" onclick="startEngine(2)">Start</button>
                    </div>
                </div>

                <div class="switch-panel">
                    <div class="section-title">Landing Gear</div>
                    <div class="gear-indicator">
                        <div>Nose</div>
                        <div class="gear-light" id="gear-nose"></div>
                    </div>
                    <div class="gear-indicator">
                        <div>Left</div>
                        <div class="gear-light down" id="gear-left"></div>
                    </div>
                    <div class="gear-indicator">
                        <div>Right</div>
                        <div class="gear-light down" id="gear-right"></div>
                    </div>
                    <button class="push-button" onclick="toggleGear()">Gear Up/Down</button>
                </div>

                <div class="switch-panel">
                    <div class="section-title">Autopilot</div>
                    <button class="push-button" id="ap-master" onclick="toggleAutopilot()">A/P Master</button>
                    <button class="push-button" id="ap-alt-hold" onclick="toggleButton('ap-alt-hold')">Alt Hold</button>
                    <button class="push-button" id="ap-nav" onclick="toggleButton('ap-nav')">Nav</button>
                </div>
            </div>

            <!-- Main Panel -->
            <div class="main-panel">
                <!-- Captain's PFD -->
                <div class="display-screen pfd">
                    <div class="pfd-content">
                        <div class="speed-tape">
                            <div>180</div>
                            <div>170</div>
                            <div id="current-speed">160</div>
                            <div>150</div>
                            <div>140</div>
                        </div>
                        
                        <div class="attitude-indicator" id="attitude-indicator"></div>
                        
                        <div class="altitude-tape">
                            <div>12000</div>
                            <div>11000</div>
                            <div id="current-altitude">10000</div>
                            <div>9000</div>
                            <div>8000</div>
                        </div>
                        
                        <div class="heading-indicator" id="heading-display">090°</div>
                    </div>
                </div>

                <!-- Navigation Display -->
                <div class="display-screen nav-display">
                    <div class="nav-map">
                        <div class="nav-grid"></div>
                        <div class="aircraft-symbol"></div>
                    </div>
                </div>

                <!-- First Officer's PFD -->
                <div class="display-screen pfd-fo">
                    <div class="pfd-content">
                        <div class="speed-tape">
                            <div>180</div>
                            <div>170</div>
                            <div id="fo-current-speed">160</div>
                            <div>150</div>
                            <div>140</div>
                        </div>
                        
                        <div class="attitude-indicator"></div>
                        
                        <div class="altitude-tape">
                            <div>12000</div>
                            <div>11000</div>
                            <div id="fo-current-altitude">10000</div>
                            <div>9000</div>
                            <div>8000</div>
                        </div>
                        
                        <div class="heading-indicator" id="fo-heading-display">090°</div>
                    </div>
                </div>

                <!-- Engine Display -->
                <div class="display-screen engine-display">
                    <div class="engine-gauges">
                        <div class="engine-gauge">
                            <h4>Engine 1</h4>
                            <div class="gauge">
                                <div class="gauge-needle" id="n1-gauge-1"></div>
                                <div class="gauge-center"></div>
                            </div>
                            <div class="gauge-value" id="n1-value-1">0%</div>
                            <div>N1</div>
                        </div>
                        
                        <div class="engine-gauge">
                            <h4>Engine 2</h4>
                            <div class="gauge">
                                <div class="gauge-needle" id="n1-gauge-2"></div>
                                <div class="gauge-center"></div>
                            </div>
                            <div class="gauge-value" id="n1-value-2">0%</div>
                            <div>N1</div>
                        </div>
                        
                        <div class="engine-gauge">
                            <h4>Fuel Flow</h4>
                            <div class="gauge">
                                <div class="gauge-needle" id="fuel-flow-gauge"></div>
                                <div class="gauge-center"></div>
                            </div>
                            <div class="gauge-value" id="fuel-flow-value">0 GPH</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="right-panel">
                <h3>First Officer Side</h3>
                
                <div class="switch-panel">
                    <div class="section-title">Radio Nav</div>
                    <div class="switch-row">
                        <span class="switch-label">NAV 1</span>
                        <div class="toggle-switch on" onclick="toggleSwitch(this)"></div>
                    </div>
                    <div class="switch-row">
                        <span class="switch-label">NAV 2</span>
                        <div class="toggle-switch" onclick="toggleSwitch(this)"></div>
                    </div>
                    <div class="switch-row">
                        <span class="switch-label">ADF</span>
                        <div class="toggle-switch" onclick="toggleSwitch(this)"></div>
                    </div>
                </div>

                <div class="switch-panel">
                    <div class="section-title">Flight Controls</div>
                    <div class="flap-indicator">
                        <span>Flaps:</span>
                        <button class="push-button" onclick="setFlaps(0)">0°</button>
                        <button class="push-button" onclick="setFlaps(5)">5°</button>
                        <button class="push-button" onclick="setFlaps(15)">15°</button>
                        <button class="push-button" onclick="setFlaps(30)">30°</button>
                    </div>
                </div>

                <div class="switch-panel">
                    <div class="section-title">Warning System</div>
                    <div class="switch-row">
                        <span>Master Warning</span>
                        <div class="status-light" id="master-warning"></div>
                    </div>
                    <div class="switch-row">
                        <span>Engine Fire</span>
                        <div class="status-light" id="fire-warning"></div>
                    </div>
                    <div class="switch-row">
                        <span>Hydraulic</span>
                        <div class="status-light green" id="hydraulic-status"></div>
                    </div>
                </div>
            </div>

            <!-- Pedestal -->
            <div class="pedestal">
                <div>
                    <div class="section-title">Throttles</div>
                    <div style="display: flex; gap: 20px;">
                        <div>
                            <div>ENG 1</div>
                            <div class="throttle-lever" id="throttle-1" onclick="adjustThrottle(1, event)">
                                <div class="throttle-indicator" id="throttle-indicator-1" style="height: 30%;"></div>
                            </div>
                        </div>
                        <div>
                            <div>ENG 2</div>
                            <div class="throttle-lever" id="throttle-2" onclick="adjustThrottle(2, event)">
                                <div class="throttle-indicator" id="throttle-indicator-2" style="height: 30%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <div class="section-title">Trim</div>
                    <button class="push-button" onclick="adjustTrim(-1)">NOSE DN</button>
                    <button class="push-button" onclick="adjustTrim(1)">NOSE UP</button>
                </div>
                
                <div>
                    <div class="section-title">Parking Brake</div>
                    <button class="push-button" id="parking-brake" onclick="toggleParkingBrake()">SET</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Flight simulation variables
        let flightData = {
            airspeed: 160,
            altitude: 10000,
            heading: 90,
            verticalSpeed: 0,
            throttle: 30,
            pitch: 0,
            bank: 0,
            rudder: 0,
            flaps: 0,
            gear: true,
            engines: {
                engine1: { n1: 0, running: false },
                engine2: { n1: 0, running: false }
            },
            autopilot: {
                master: false,
                altHold: false,
                nav: false
            }
        };

        let currentView = 'cockpit';
        let keys = {};
        let joystickActive = false;
        let joystickCenter = { x: 0, y: 0 };

        // Initialize the simulator
        function init() {
            // Create clouds for flight view
            createClouds();
            
            // Set up event listeners
            document.addEventListener('keydown', handleKeyDown);
            document.addEventListener('keyup', handleKeyUp);
            
            // Set up joystick
            setupJoystick();
            
            // Start animation loop
            animate();
            
            // Update displays
            updateDisplays();
        }

        // View switching
        function switchView(view) {
            const cockpitView = document.getElementById('cockpit-view');
            const flightView = document.getElementById('flight-view');
            const cockpitBtn = document.getElementById('cockpit-btn');
            const flightBtn = document.getElementById('flight-btn');

            if (view === 'cockpit') {
                cockpitView.style.display = 'block';
                flightView.classList.remove('active');
                cockpitBtn.classList.add('active');
                flightBtn.classList.remove('active');
                currentView = 'cockpit';
            } else {
                cockpitView.style.display = 'none';
                flightView.classList.add('active');
                cockpitBtn.classList.remove('active');
                flightBtn.classList.add('active');
                currentView = 'flight';
            }
        }

        // Create floating clouds
        function createClouds() {
            const cloudsContainer = document.getElementById('clouds');
            
            for (let i = 0; i < 8; i++) {
                const cloud = document.createElement('div');
                cloud.className = 'cloud';
                cloud.style.left = Math.random() * 100 + '%';
                cloud.style.width = (Math.random() * 60 + 40) + 'px';
                cloud.style.height = (Math.random() * 30 + 20) + 'px';
                cloud.style.animationDelay = Math.random() * 20 + 's';
                cloud.style.animationDuration = (Math.random() * 10 + 15) + 's';
                cloudsContainer.appendChild(cloud);
            }
        }

        // Keyboard controls
        function handleKeyDown(e) {
            keys[e.key.toLowerCase()] = true;
        }

        function handleKeyUp(e) {
            keys[e.key.toLowerCase()] = false;
        }

        // Joystick setup
        function setupJoystick() {
            const joystick = document.getElementById('joystick');
            const container = joystick.parentElement;
            const containerRect = container.getBoundingClientRect();
            
            joystickCenter.x = containerRect.width / 2;
            joystickCenter.y = containerRect.height / 2;

            let isDragging = false;

            joystick.addEventListener('mousedown', (e) => {
                isDragging = true;
                joystickActive = true;
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                
                const containerRect = container.getBoundingClientRect();
                const x = e.clientX - containerRect.left - joystickCenter.x;
                const y = e.clientY - containerRect.top - joystickCenter.y;
                
                const distance = Math.sqrt(x * x + y * y);
                const maxDistance = joystickCenter.x - 15;
                
                if (distance <= maxDistance) {
                    joystick.style.transform = `translate(${x}px, ${y}px)`;
                    
                    // Update flight controls based on joystick position
                    const bankInput = (x / maxDistance) * 30; // -30 to +30 degrees
                    const pitchInput = (-y / maxDistance) * 15; // -15 to +15 degrees
                    
                    flightData.bank = Math.max(-30, Math.min(30, bankInput));
                    flightData.pitch = Math.max(-15, Math.min(15, pitchInput));
                }
            });

            document.addEventListener('mouseup', () => {
                if (isDragging) {
                    isDragging = false;
                    joystickActive = false;
                    joystick.style.transform = 'translate(0px, 0px)';
                    
                    // Gradually return to level flight
                    setTimeout(() => {
                        if (!joystickActive) {
                            flightData.bank *= 0.9;
                            flightData.pitch *= 0.9;
                        }
                    }, 100);
                }
            });
        }

        // Process flight controls
        function processControls() {
            // Keyboard controls
            if (keys['w']) flightData.pitch = Math.min(15, flightData.pitch + 0.5);
            if (keys['s']) flightData.pitch = Math.max(-15, flightData.pitch - 0.5);
            if (keys['a']) flightData.bank = Math.max(-30, flightData.bank - 0.5);
            if (keys['d']) flightData.bank = Math.min(30, flightData.bank + 0.5);
            if (keys['q']) flightData.rudder = Math.max(-15, flightData.rudder - 0.3);
            if (keys['e']) flightData.rudder = Math.min(15, flightData.rudder + 0.3);
            if (keys['r']) flightData.throttle = Math.min(100, flightData.throttle + 1);
            if (keys['f']) flightData.throttle = Math.max(0, flightData.throttle - 1);

            // Gradually center controls when not pressed
            if (!keys['w'] && !keys['s'] && !joystickActive) {
                flightData.pitch *= 0.98;
            }
            if (!keys['a'] && !keys['d'] && !joystickActive) {
                flightData.bank *= 0.98;
            }
            if (!keys['q'] && !keys['e']) {
                flightData.rudder *= 0.95;
            }

            // Calculate flight dynamics
            updateFlightDynamics();
        }

        // Update flight physics
        function updateFlightDynamics() {
            // Update heading based on bank angle and rudder
            const turnRate = (flightData.bank * 0.1) + (flightData.rudder * 0.05);
            flightData.heading = (flightData.heading + turnRate + 360) % 360;

            // Update vertical speed based on pitch and throttle
            const pitchEffect = flightData.pitch * 50; // feet per minute per degree
            const throttleEffect = (flightData.throttle - 30) * 10; // baseline throttle at 30%
            flightData.verticalSpeed = pitchEffect + throttleEffect;

            // Update altitude
            flightData.altitude += flightData.verticalSpeed / 60; // convert fpm to fps
            flightData.altitude = Math.max(0, flightData.altitude);

            // Update airspeed based on pitch and throttle
            const targetSpeed = 120 + (flightData.throttle * 1.2) - (flightData.pitch * 2);
            flightData.airspeed += (targetSpeed - flightData.airspeed) * 0.02;
            flightData.airspeed = Math.max(60, Math.min(250, flightData.airspeed));

            // Update engine parameters
            if (flightData.engines.engine1.running) {
                flightData.engines.engine1.n1 = flightData.throttle * 0.9;
            }
            if (flightData.engines.engine2.running) {
                flightData.engines.engine2.n1 = flightData.throttle * 0.9;
            }
        }

        // Update all displays
        function updateDisplays() {
            // Update HUD
            document.getElementById('hud-airspeed').textContent = Math.round(flightData.airspeed) + ' KTS';
            document.getElementById('hud-altitude').textContent = Math.round(flightData.altitude) + ' FT';
            document.getElementById('hud-heading').textContent = Math.round(flightData.heading).toString().padStart(3, '0') + '°';
            document.getElementById('hud-vs').textContent = Math.round(flightData.verticalSpeed) + ' FPM';
            document.getElementById('hud-throttle').textContent = Math.round(flightData.throttle) + '%';

            // Update PFD displays
            document.getElementById('current-speed').textContent = Math.round(flightData.airspeed);
            document.getElementById('current-altitude').textContent = Math.round(flightData.altitude);
            document.getElementById('heading-display').textContent = Math.round(flightData.heading).toString().padStart(3, '0') + '°';
            
            // Update FO displays
            document.getElementById('fo-current-speed').textContent = Math.round(flightData.airspeed);
            document.getElementById('fo-current-altitude').textContent = Math.round(flightData.altitude);
            document.getElementById('fo-heading-display').textContent = Math.round(flightData.heading).toString().padStart(3, '0') + '°';

            // Update engine gauges
            const n1Angle1 = (flightData.engines.engine1.n1 / 100) * 180 - 90;
            const n1Angle2 = (flightData.engines.engine2.n1 / 100) * 180 - 90;
            
            document.getElementById('n1-gauge-1').style.transform = `translate(-50%, -100%) rotate(${n1Angle1}deg)`;
            document.getElementById('n1-gauge-2').style.transform = `translate(-50%, -100%) rotate(${n1Angle2}deg)`;
            document.getElementById('n1-value-1').textContent = Math.round(flightData.engines.engine1.n1) + '%';
            document.getElementById('n1-value-2').textContent = Math.round(flightData.engines.engine2.n1) + '%';

            // Update aircraft sprite position and rotation
            updateAircraftSprite();
        }

        // Update aircraft sprite in flight view
        function updateAircraftSprite() {
            const aircraft = document.getElementById('aircraft');
            if (aircraft && currentView === 'flight') {
                // Apply bank rotation
                aircraft.style.transform = `translateX(-50%) rotate(${flightData.bank}deg)`;
                
                // Adjust position based on pitch (subtle effect)
                const pitchOffset = flightData.pitch * 2;
                aircraft.style.top = (70 - pitchOffset) + '%';
            }
        }

        // Switch/Button Controls
        function toggleSwitch(switchId) {
            const element = typeof switchId === 'string' ? document.getElementById(switchId) : switchId;
            element.classList.toggle('on');
        }

        function toggleButton(buttonId) {
            const button = document.getElementById(buttonId);
            button.classList.toggle('active');
        }

        function startEngine(engineNum) {
            const button = document.getElementById(`engine${engineNum}-start`);
            button.classList.add('active');
            
            setTimeout(() => {
                flightData.engines[`engine${engineNum}`].running = true;
                button.classList.remove('active');
                button.textContent = 'Running';
                button.style.background = 'linear-gradient(145deg, #00aa00, #008800)';
            }, 2000);
        }

        function toggleGear() {
            flightData.gear = !flightData.gear;
            const gearLights = ['gear-nose', 'gear-left', 'gear-right'];
            
            gearLights.forEach(lightId => {
                const light = document.getElementById(lightId);
                light.classList.remove('down');
                if (flightData.gear) {
                    setTimeout(() => light.classList.add('down'), 1000);
                }
            });
        }

        function toggleAutopilot() {
            flightData.autopilot.master = !flightData.autopilot.master;
            const button = document.getElementById('ap-master');
            button.classList.toggle('active');
        }

        function setFlaps(degrees) {
            flightData.flaps = degrees;
            // Visual feedback could be added here
        }

        function adjustThrottle(engine, event) {
            const lever = event.currentTarget;
            const rect = lever.getBoundingClientRect();
            const y = event.clientY - rect.top;
            const percentage = Math.max(0, Math.min(100, (1 - y / rect.height) * 100));
            
            flightData.throttle = percentage;
            document.getElementById(`throttle-indicator-${engine}`).style.height = percentage + '%';
        }

        function adjustTrim(direction) {
            // Trim adjustment logic
            flightData.pitch += direction * 0.5;
        }

        function toggleParkingBrake() {
            const button = document.getElementById('parking-brake');
            button.classList.toggle('active');
            button.textContent = button.classList.contains('active') ? 'RELEASE' : 'SET';
        }

        // Animation loop
        function animate() {
            processControls();
            updateDisplays();
            requestAnimationFrame(animate);
        }

        // Initialize when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>
